---
title: 在手机上预览本地部署的网页
excerpt: 在开发移动端网页时，最好在真正的设备上预览。这时候我们就需要让移动设备能够访问到本地部署的服务，这是能够做到的。
recommend: 5
tags:
  - 开发技巧
categories:
  - 技术
  - 前端
date: 2018-10-14 19:39:48
thumbnail: cover.jpg
---
# 打开防火墙

实际上，如果移动设备和开发机在同一个局域网内，它们之间是可以直接通过IP访问的。打开Windows控制台，使用`ipconfig`命令就能得到IP。

如果使用的开发机是Windows系统（其他系统我不清楚），需要设置好防火墙，让对应的端口开放出来。在控制面板中打开防火墙，选择入站规则，再点击新建规则。

![创建规则](firewall-step1.jpg)

规则类型选择端口，点击下一步。

![规则类型](firewall-step2.jpg)

协议选择TCP，根据本地部署的情况配置端口号。

![设置端口](firewall-step3.jpg)

完成设置后，本地部署的服务就可以穿透防火墙，被局域网内的设备访问到了。

# 虚拟机的情况

如果本地服务是跑在虚拟机中，需要进一步配置虚拟机网络。我使用的是VMWARE，网络模式是NAT。首先选择虚拟机菜单中的编辑，再点击虚拟网络编辑器来打开设置界面。

![NAT设置](nat-step1.jpg)

点击NAT设置。需要注意的是，这里需要管理员权限，右下角有更改设置按钮。

![NAT设置](nat-step1.jpg)

进入NAT设置界面后，点击添加按钮。填写虚拟机IP和端口，以及暴露的主机端口号。完成设置后，外部网络访问主机端口号都会被映射到虚拟机对应的端口。现在就可以开心地用手机连上WIFI进行预览了。
